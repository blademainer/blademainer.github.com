(function(a){a.fn.extend({mytoc:function(c){var e={prefix:"mytoc",selectors:"h1, h2, h3",context:"body"};var d=a.extend({},e,c);var f=a(d.selectors,d.context);f.each(function(g){a("<span/>").attr("id",d.prefix+g).insertBefore(this);});var b=function(i){i.preventDefault();var h=a(i.target).attr("href");var g=a(h).offset().top;a("body").animate({scrollTop:g},400,"swing",function(){location.hash=h;});};return a(this).each(function(h){var g=a("<ul/>").attr("id","mytoc");f.each(function(l){var k=a("<a/>").attr("href","#"+d.prefix+l).text(a(this).text()).bind("click",b);var j=a("<li/>").addClass(this.tagName.toLowerCase()+"-"+d.prefix).append(k);g.append(j);});a(this).html(g);});}});})(jQuery);